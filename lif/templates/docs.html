{% extends "base.html" %}

{% block title %}Documentation -  Project LIF{% endblock %}
{% block meta_description %}Complete guide to using  Project LIF's lip reading platform and features.{% endblock %}

{% block content %}
<section class="docs-section py-5">
    <div class="container">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-lg-3">
                <div class="docs-sidebar">
                    <div class="card bg-dark-card border-0 shadow-lg sticky-top">
                        <div class="card-body p-3">
                            <h5 class="text-light mb-3">
                                <i class="fas fa-book gradient-text me-2"></i>
                                Documentation
                            </h5>
                            <nav class="docs-nav">
                                <ul class="nav flex-column">
                                    <li class="nav-item">
                                        <a class="nav-link active" href="#getting-started">Getting Started</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="#camera-setup">Camera Setup</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="#learning-guide">Learning Guide</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="#quiz-system">Quiz System</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="#research-paper">Research Paper</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="#troubleshooting">Troubleshooting</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="#api-reference">API Reference</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-lg-9">
                <div class="docs-content">
                    <!-- Getting Started -->
                    <section id="getting-started" class="docs-section-content mb-5">
                        <div class="card bg-dark-card border-0 shadow-lg">
                            <div class="card-body p-4">
                                <h2 class="text-light mb-3">
                                    <i class="fas fa-rocket gradient-text me-2"></i>
                                    Getting Started
                                </h2>
                                <p class="text-light">
                                    Welcome to  Project LIF! This guide will help you get started with our AI-powered 
                                    lip reading platform.
                                </p>
                                
                                <h4 class="text-light mt-4 mb-3">Quick Start</h4>
                                <ol class="text-light">
                                    <li>Navigate to the <a href="{{ url_for('camera') }}" class="text-primary">Camera</a> page</li>
                                    <li>Allow camera access when prompted</li>
                                    <li>Click "Start Camera" to begin real-time analysis</li>
                                    <li>Speak naturally and view predictions</li>
                                </ol>

                                <h4 class="text-light mt-4 mb-3">System Requirements</h4>
                                <ul class="text-light">
                                    <li>Modern web browser (Chrome, Firefox, Safari, Edge)</li>
                                    <li>Webcam or built-in camera</li>
                                    <li>Good lighting conditions</li>
                                    <li>Stable internet connection</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <!-- Camera Setup -->
                    <section id="camera-setup" class="docs-section-content mb-5">
                        <div class="card bg-dark-card border-0 shadow-lg">
                            <div class="card-body p-4">
                                <h2 class="text-light mb-3">
                                    <i class="fas fa-camera gradient-text me-2"></i>
                                    Camera Setup
                                </h2>
                                
                                <h4 class="text-light mt-4 mb-3">Optimal Setup</h4>
                                <div class="row">
                                    <div class="col-md-6">
                                        <ul class="text-light">
                                            <li><strong>Position:</strong> Camera at eye level</li>
                                            <li><strong>Distance:</strong> 2-3 feet from camera</li>
                                            <li><strong>Lighting:</strong> Face well-lit, avoid backlighting</li>
                                            <li><strong>Background:</strong> Plain, non-distracting</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="setup-diagram">
                                            <img src="/static/images/camerasetup.png" 
                                                 alt="Camera setup diagram" class="img-fluid rounded">
                                        </div>
                                    </div>
                                </div>

                                <h4 class="text-light mt-4 mb-3">Troubleshooting Camera Issues</h4>
                                <div class="accordion" id="cameraAccordion">
                                    <div class="accordion-item bg-dark-bg">
                                        <h5 class="accordion-header">
                                            <button class="accordion-button collapsed bg-dark-card text-muted" 
                                                    type="button" data-bs-toggle="collapse" data-bs-target="#camera1">
                                                Camera not detected
                                            </button>
                                        </h5>
                                        <div id="camera1" class="accordion-collapse collapse" data-bs-parent="#cameraAccordion">
                                            <div class="accordion-body text-muted">
                                                <ul>
                                                    <li>Check if camera is connected and working</li>
                                                    <li>Ensure browser has camera permissions</li>
                                                    <li>Try refreshing the page</li>
                                                    <li>Check if another application is using the camera</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Learning Guide -->
                    <section id="learning-guide" class="docs-section-content mb-5">
                        <div class="card bg-dark-card border-0 shadow-lg">
                            <div class="card-body p-4">
                                <h2 class="text-light mb-3">
                                    <i class="fas fa-graduation-cap gradient-text me-2"></i>
                                    Learning Guide
                                </h2>
                                
                                <h4 class="text-light mt-4 mb-3">Learning Path</h4>
                                <div class="learning-path">
                                    <div class="path-step">
                                        <div class="step-number">1</div>
                                        <div class="step-content">
                                            <h5 class="text-light">Start with Vowels</h5>
                                            <p class="text-light">Begin with basic vowel sounds ("A", "E", "I", "O", "U")</p>
                                        </div>
                                    </div>
                                    <div class="path-step">
                                        <div class="step-number">2</div>
                                        <div class="step-content">
                                            <h5 class="text-light">Practice Consonants</h5>
                                            <p class="text-light">Move to consonant combinations ("B", "K", "D", ‚ÄùG", "H", "L", "M", "N", "NG", "P", "R", "S", "T", "W", "Y"

)</p>
                                        </div>
                                    </div>
                                    <div class="path-step">
                                        <div class="step-number">3</div>
                                        <div class="step-content">
                                            <h5 class="text-light">Test Your Skills</h5>
                                            <p class="text-light">Take quizzes to reinforce learning</p>
                                        </div>
                                    </div>
                                </div>

                                <h4 class="text-light mt-4 mb-3">Learning Tips</h4>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="tip-card">
                                            <h6 class="text-light">Practice Regularly</h6>
                                            <p class="text-light small">Consistent daily practice yields better results than long, infrequent sessions.</p>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="tip-card">
                                            <h6 class="text-light">Focus on Mouth Shape</h6>
                                            <p class="text-light small">Pay attention to lip position, tongue placement, and jaw movement.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Quiz System -->
                    <section id="quiz-system" class="docs-section-content mb-5">
                        <div class="card bg-dark-card border-0 shadow-lg">
                            <div class="card-body p-4">
                                <h2 class="text-light mb-3">
                                    <i class="fas fa-gamepad gradient-text me-2"></i>
                                    Quiz System
                                </h2>
                                
                                <h4 class="text-light mt-4 mb-3">How Quizzes Work</h4>
                                <p class="text-light">
                                    Our quiz system tests your lip reading skills through visual recognition challenges:
                                </p>
                                <ul class="text-light">
                                    <li>Watch GIF demonstrations of syllable pronunciations</li>
                                    <li>Choose the correct syllable from multiple options</li>
                                    <li>Earn points based on accuracy and speed</li>
                                    <li>Build streaks for bonus points</li>
                                </ul>

                                <h4 class="text-light mt-4 mb-3">Scoring System</h4>
                                <div class="scoring-table">
                                    <table class="table table-dark">
                                        <thead>
                                            <tr>
                                                <th>Action</th>
                                                <th>Base Points</th>
                                                <th>Bonus Conditions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Correct Answer</td>
                                                <td>10 points</td>
                                                <td>+5 for speed, +5 for streak</td>
                                            </tr>
                                            <tr>
                                                <td>Streak Bonus</td>
                                                <td>-</td>
                                                <td>+5 at 3 streak, +10 at 5 streak</td>
                                            </tr>
                                            <tr>
                                                <td>Difficulty Bonus</td>
                                                <td>-</td>
                                                <td>+3 medium, +5 hard</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Research Paper -->
                <section id="research-paper" class="docs-section-content mb-5">
                    <div class="card bg-dark-card border-0 shadow-lg">
                        <div class="card-body p-4">
                            <h2 class="text-light mb-3">
                                <i class="fas fa-file-alt gradient-text me-2"></i>
                                Research Paper & AI/Model Development
                            </h2>
                            
                            <!-- Paper Download -->
                            <div class="paper-download mb-4">
                                <div class="row align-items-center">
                                    <div class="col-md-8">
                                        <h4 class="text-light mb-2">Download Our Complete Thesis</h4>
                                        <p class="text-light">
                                            Access our comprehensive research paper detailing the development, methodology, 
                                            and results of our AI-powered lip reading system.
                                        </p>
                                    </div>
                                    <div class="col-md-4 text-md-end">
                                        <a href="/static/documents/projectlif.pdf" class="btn btn-primary btn-lg" download>
                                            <i class="fas fa-download me-2"></i>Download PDF
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <!-- Abstract -->
                            <div class="paper-abstract mb-4">
                                <h4 class="text-light mb-3">Abstract</h4>
                                <div class="abstract-content">
                                    <p class="text-light">
                                        This thesis presents the development of an AI-powered lip reading system capable of 
                                        recognizing Filipino vowel syllables with high accuracy. Our research focuses on 
                                        creating an accessible learning platform that combines computer vision, deep learning, 
                                        and interactive web technologies to assist users in developing visual speech recognition skills.
                                    </p>
                                    <p class="text-light">
                                        The system utilizes a 3D Convolutional Neural Network (3D CNN) and Bidirectional Long Short Term Memory trained on a custom dataset 
                                        of Filipino speakers, achieving an overall accuracy of <strong class="gradient-text">97.3%</strong> 
                                        in vowel recognition tasks.
                                    </p>
                                </div>
                            </div>

                            <!-- Key Results -->
                            <div class="research-results mb-4">
                                <h4 class="text-light mb-3">Key Research Results</h4>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="result-card">
                                            <div class="result-header">
                                                <i class="fas fa-chart-line gradient-text me-2"></i>
                                                <h5 class="text-light">Model Performance</h5>
                                            </div>
                                            <div class="result-content">
                                                <div class="metric">
                                                    <span class="metric-label">Overall Accuracy:</span>
                                                    <span class="metric-value gradient-text">97.3%</span>
                                                </div>
                                                <div class="metric">
                                                    <span class="metric-label">Training Accuracy:</span>
                                                    <span class="metric-value gradient-text">99.2%</span>
                                                </div>
                                                <div class="metric">
                                                    <span class="metric-label">Validation Accuracy:</span>
                                                    <span class="metric-value gradient-text">97.3%</span>
                                                </div>
                                                <div class="metric">
                                                    <span class="metric-label">F1-Score:</span>
                                                    <span class="metric-value gradient-text">0.973</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="result-card">
                                            <div class="result-header">
                                                <i class="fas fa-database gradient-text me-2"></i>
                                                <h5 class="text-light">Dataset Statistics</h5>
                                            </div>
                                            <div class="result-content">
                                                <div class="metric">
                                                    <span class="metric-label">Total Samples:</span>
                                                    <span class="metric-value gradient-text">15,000+</span>
                                                </div>
                                                <div class="metric">
                                                    <span class="metric-label">Participants:</span>
                                                    <span class="metric-value gradient-text">50</span>
                                                </div>
                                                <div class="metric">
                                                    <span class="metric-label">Classes:</span>
                                                    <span class="metric-value gradient-text">5 (A, E, I, O, U)</span>
                                                </div>
                                                <div class="metric">
                                                    <span class="metric-label">Sequence Length:</span>
                                                    <span class="metric-value gradient-text">22 frames</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Research Graphs -->
                            <div class="research-graphs mb-4">
                                <h4 class="text-light mb-3">Research Visualizations</h4>
                                <div class="row">
                                    <div class="col-md-6 mb-4">
                                        <div class="graph-card">
                                            <img src="/static/images/accuracy_graph.png" alt="Training vs Validation Accuracy" class="img-fluid rounded">
                                            <div class="graph-description mt-3">
                                                <h6 class="text-light">Training vs Validation Accuracy</h6>
                                                <p class="text-light small">
                                                    Model performance over 150 epochs showing consistent improvement 
                                                    and minimal overfitting with final validation accuracy of 94.2%.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-4">
                                        <div class="graph-card">
                                            <img src="/static/images/confusion_matrix.png" alt="Confusion Matrix" class="img-fluid rounded">
                                            <div class="graph-description mt-3">
                                                <h6 class="text-light">Confusion Matrix</h6>
                                                <p class="text-light small">
                                                    Per-class performance showing strong diagonal values indicating 
                                                    high accuracy across all vowel classifications.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-4">
                                        <div class="graph-card">
                                            <img src="/static/images/loss_graph.png" alt="Training Loss" class="img-fluid rounded">
                                            <div class="graph-description mt-3">
                                                <h6 class="text-light">Training & Validation Loss</h6>
                                                <p class="text-light small">
                                                    Loss curves demonstrating stable convergence and effective 
                                                    learning without significant overfitting issues.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-4">
                                        <div class="graph-card">
                                            <img src="/static/images/per_class_accuracy.png" alt="Per-Class Accuracy" class="img-fluid rounded">
                                            <div class="graph-description mt-3">
                                                <h6 class="text-light">Per-Class Accuracy Breakdown</h6>
                                                <p class="text-light small">
                                                    Individual vowel recognition rates showing balanced performance 
                                                    across all five Filipino vowel sounds.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Methodology -->
                            <div class="methodology mb-4">
                                <h4 class="text-light mb-3">Research Methodology</h4>
                                <div class="methodology-content">
                                    <div class="method-section mb-3">
                                        <h5 class="text-light">Data Collection</h5>
                                        <p class="text-light">
                                            We collected video data from 50 Filipino participants across different age groups 
                                            and backgrounds. Each participant recorded multiple instances of the five Filipino 
                                            vowels (A, E, I, O, U) under controlled lighting conditions using standardized 
                                            recording protocols.
                                        </p>
                                    </div>
                                    <div class="method-section mb-3">
                                        <h5 class="text-light">Preprocessing Pipeline</h5>
                                        <p class="text-light">
                                            Our preprocessing pipeline includes face detection using dlib, mouth region 
                                            extraction, frame normalization to 112x80 pixels, and sequence padding to 
                                            22 frames. We applied CLAHE enhancement and bilateral filtering for improved 
                                            visual quality.
                                        </p>
                                    </div>
                                    <div class="method-section mb-3">
                                        <h5 class="text-light">Model Architecture</h5>
                                        <p class="text-light">
                                            The 3D CNN architecture consists of multiple convolutional layers with batch 
                                            normalization, dropout regularization, and dense layers for classification. 
                                            The model processes temporal sequences of mouth movements to predict vowel sounds.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <!-- Citation -->
                            <div class="citation">
                                <h4 class="text-light mb-3">Citation</h4>
                                <div class="citation-box">
                                    <pre class="citation-text"><code>@thesis{projectlif2025,
                title={AI-Powered Lip Reading System for Filipino Vowel Recognition},
                author={[Bautista, Bernal, Diaz, Mercurio]},
                school={[President Ramon Magsaysay State University]},
                year={2025},
                type={Bachelor's Thesis},
                url={https://projectlif.com}
                }</code></pre>
                    <button class="btn btn-outline-light btn-sm mt-2" onclick="copyCitation()">
                        <i class="fas fa-copy me-2"></i>Copy Citation
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>
                    <!-- Troubleshooting -->
                    <section id="troubleshooting" class="docs-section-content mb-5">
                        <div class="card bg-dark-card border-0 shadow-lg">
                            <div class="card-body p-4">
                                <h2 class="text-light mb-3">
                                    <i class="fas fa-tools gradient-text me-2"></i>
                                    Troubleshooting
                                </h2>
                                
                                <h4 class="text-light mt-4 mb-3">Common Issues</h4>
                                <div class="troubleshooting-list">
                                    <div class="issue-item">
                                        <h6 class="text-light">Low prediction accuracy</h6>
                                        <ul class="text-light">
                                            <li>Improve lighting conditions</li>
                                            <li>Position face directly toward camera</li>
                                            <li>Speak more clearly and deliberately</li>
                                            <li>Remove obstructions from mouth area</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="issue-item">
                                        <h6 class="text-light">Camera feed not working</h6>
                                        <ul class="text-light">
                                            <li>Check browser permissions</li>
                                            <li>Ensure camera is not in use by other apps</li>
                                            <li>Try a different browser</li>
                                            <li>Restart your device</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="issue-item">
                                        <h6 class="text-light">Slow performance</h6>
                                        <ul class="text-light">
                                            <li>Close unnecessary browser tabs</li>
                                            <li>Check internet connection</li>
                                            <li>Update your browser</li>
                                            <li>Clear browser cache</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- API Reference -->
                    <section id="api-reference" class="docs-section-content mb-5">
                        <div class="card bg-dark-card border-0 shadow-lg">
                            <div class="card-body p-4">
                                <h2 class="text-light mb-3">
                                    <i class="fas fa-code gradient-text me-2"></i>
                                    API Reference
                                </h2>
                                
                                <h4 class="text-light mt-4 mb-3">Prediction API</h4>
                                <div class="api-endpoint">
                                    <div class="endpoint-header">
                                        <span class="method post">POST</span>
                                        <span class="url">/api/predict</span>
                                    </div>
                                    <div class="endpoint-description">
                                        <p class="text-light">Submit an image for lip reading analysis</p>
                                        
                                        <h6 class="text-light mt-3">Request Body</h6>
                                        <pre class="code-block"><code>{
  "image": "base64_encoded_image_data"
}</code></pre>
                                        
                                        <h6 class="text-light mt-3">Response</h6>
                                        <pre class="code-block"><code>{
  "predictions": [
    {
      "syllable": "hello",
      "confidence": 0.95
    },
    {
      "syllable": "hi",
      "confidence": 0.87
    }
  ]
}</code></pre>
                                    </div>
                                </div>

                                <h4 class="text-light mt-4 mb-3">Quiz API</h4>
                                <div class="api-endpoint">
                                    <div class="endpoint-header">
                                        <span class="method get">GET</span>
                                        <span class="url">/api/quiz/question</span>
                                    </div>
                                    <div class="endpoint-description">
                                        <p class="text-light">Get a random quiz question</p>
                                        
                                        <h6 class="text-light mt-3">Response</h6>
                                        <pre class="code-block"><code>{
  "syllable": "a",
  "gif": "/static/gifs/a.gif",
  "options": ["a", "e", "i", "o"]
}</code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_head %}
<style>
.docs-sidebar {
    position: sticky;
    top: 100px;
}

.docs-nav .nav-link {
    color: var(--text-light);
    padding: 0.5rem 1rem;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.docs-nav .nav-link:hover,
.docs-nav .nav-link.active {
    color: var(--text-light);
    background: rgba(99, 102, 241, 0.1);
    border-left: 3px solid var(--primary-color);
}

.learning-path {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.path-step {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: rgba(99, 102, 241, 0.1);
    border-radius: 10px;
    border: 1px solid var(--primary-color);
}

.step-number {
    width: 40px;
    height: 40px;
    background: var(--gradient-primary);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    color: white;
    flex-shrink: 0;
}

.tip-card {
    background: rgba(99, 102, 241, 0.1);
    border: 1px solid var(--primary-color);
    border-radius: 10px;
    padding: 1rem;
    margin-bottom: 1rem;
}

.issue-item {
    margin-bottom: 2rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--dark-border);
}

.api-endpoint {
    background: var(--dark-bg);
    border: 1px solid var(--dark-border);
    border-radius: 10px;
    margin-bottom: 2rem;
    overflow: hidden;
}

.endpoint-header {
    background: rgba(99, 102, 241, 0.1);
    padding: 1rem;
    display: flex;
    align-items: center;
    gap: 1rem;
}

.method {
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
    font-weight: bold;
    font-size: 0.8rem;
}

.method.get {
    background: var(--success-color);
    color: white;
}

.method.post {
    background: var(--primary-color);
    color: white;
}

.url {
    font-family: 'Courier New', monospace;
    color: var(--text-light);
    font-weight: 500;
}

.endpoint-description {
    padding: 1rem;
}

.code-block {
    background: var(--dark-bg);
    border: 1px solid var(--dark-border);
    border-radius: 5px;
    padding: 1rem;
    overflow-x: auto;
}

.code-block code {
    color: var(--text-light);
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
}

.paper-download {
    background: rgba(99, 102, 241, 0.1);
    border: 1px solid var(--primary-color);
    border-radius: 15px;
    padding: 2rem;
}

.result-card, .graph-card {
    background: rgba(99, 102, 241, 0.05);
    border: 1px solid var(--dark-border);
    border-radius: 15px;
    padding: 1.5rem;
    height: 100%;
}

.result-header {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
}

.metric {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.5rem 0;
    border-bottom: 1px solid var(--dark-border);
}

.metric:last-child {
    border-bottom: none;
}

.metric-label {
    color: var(--text-muted);
    font-size: 0.9rem;
}

.metric-value {
    font-weight: bold;
    font-size: 1.1rem;
}

.graph-card img {
    border: 1px solid var(--dark-border);
    transition: transform 0.3s ease;
}

.graph-card:hover img {
    transform: scale(1.02);
}

.method-section {
    background: rgba(99, 102, 241, 0.05);
    border-left: 3px solid var(--primary-color);
    padding: 1rem 1.5rem;
    border-radius: 0 10px 10px 0;
}

.citation-box {
    background: var(--dark-bg);
    border: 1px solid var(--dark-border);
    border-radius: 10px;
    padding: 1rem;
}

.citation-text {
    color: var(--text-light);
    font-family: 'Courier New', monospace;
    font-size: 0.85rem;
    margin: 0;
}
</style>
{% endblock %}

{% block extra_scripts %}
<script>
// Smooth scrolling for documentation navigation
document.querySelectorAll('.docs-nav .nav-link').forEach(link => {
    link.addEventListener('click', function(e) {
        e.preventDefault();
        
        // Remove active class from all links
        document.querySelectorAll('.docs-nav .nav-link').forEach(l => l.classList.remove('active'));
        
        // Add active class to clicked link
        this.classList.add('active');
        
        // Smooth scroll to target
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

function copyCitation() {
    const citationText = `@thesis{projectlif2025,
  title={AI-Powered Lip Reading System for Filipino Vowel Recognition},
  author={[Bautista, Bernal, Diaz, Mercurio]},
  school={[President Ramon Magsaysay State University]},
  year={2025},
  type={Bachelor's Thesis},
  url={https://projectlif.com}
}`;
    
    navigator.clipboard.writeText(citationText).then(() => {
        window.LipLearn.showNotification('Citation copied to clipboard!', 'success');
    });
}

// Update active navigation based on scroll position
window.addEventListener('scroll', () => {
    const sections = document.querySelectorAll('.docs-section-content');
    const navLinks = document.querySelectorAll('.docs-nav .nav-link');
    
    let current = '';
    sections.forEach(section => {
        const sectionTop = section.offsetTop - 150;
        if (window.pageYOffset >= sectionTop) {
            current = section.getAttribute('id');
        }
    });
    
    navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === `#${current}`) {
            link.classList.add('active');
        }
    });
});
</script>
{% endblock %}
